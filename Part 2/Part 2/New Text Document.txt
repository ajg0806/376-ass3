double avg_lum(unsigned char* image, int size) {
	double avg = 0;
	for (int i = 0; i < size*4; i+=4) {
		avg += ((image[i+0]*0.299)+(image[i+1] * 0.587)+(image[i+2] * 0.114));
	}
	avg /= size;
	return avg;
}